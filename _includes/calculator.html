<div id="explanation">
    <p>
        The <a href="https://sci.greensoftware.foundation/">Software Carbon Intensity (SCI)</a> specification is a standard developed by the <a href="https://greensoftware.foundation/">Green Software Foundation</a> to measure the carbon emissions from software applications. 
        It provides a metric for assessing the environmental impact of software based on both operational and embodied emissions, helping developers make more sustainable choices.
    </p>
</div>

<div class="container">
    <!-- Operational Emissions Section -->
    <div class="section operational">
        <h2>Operational Emissions</h2>
        <h5>Emissions from energy consumed during system use</h5>
        <table class="card-table">
            <tr>
                <td><label for="energy">Energy Consumed by Software (kWh):</label></td>
                <td class="row-input"><input type="number" id="energy" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            Emissions generated by software during its active use. 
                            This may include energy consumed by servers, devices, and network operations or a portion of the system while running the software.
                            Generally, it's up to the user to decide what is possible for them to measure and what is representative of the work being done.
                        </p>
                        <!-- <button class="modal-button">Help me calculate!</button> -->
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol"><div class="multiplication-symbol">×</div></td>
                <td></td>
            </tr>
            <tr>
                <td><label for="carbonIntensity">Location-based Carbon Intensity (gCO2-eq/kWh):</label></td>
                <td class="row-input"><input type="number" id="carbonIntensity" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            Emissions related to the geographical location of hardware. Some regions have cleaner energy grids, affecting the overall carbon footprint.
                        </p>
                        <!-- <button class="modal-button">Find Local Power Grid!</button> -->
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="3"><hr></td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol">
                    <div class="output-box">
                        <span id="operationalEmissions">0</span>
                        <label class="units">gCO2-eq</label>
                    </div>
                </td>
                <td></td>
            </tr>
        </table>
    </div>

    <!-- Embodied Emissions Section -->
    <div class="section embodied">
        <h2>Embodied Emissions</h2>
        <h5>Emissions from production, transport, and disposal of hardware needed to run software</h5>
        <table class="card-table">
            <tr>
                <td><label for="totalEmbodied">Total Embodied Emissions (gCO2-eq):</label></td>
                <td class="row-input"><input type="number" id="totalEmbodied" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            The cumulative carbon emissions resulting from the entire lifecycle of hardware associated with the software—including manufacturing, transport, maintenance, and disposal—are referred to as Life Cycle Assessment (LCA) values.
                        </p>
                        <button class="modal-button" data-popup="embodiedPopup">Help!</button>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol"><div class="multiplication-symbol">×</div></td>
                <td></td>
            </tr>
            <tr></tr>
                <td><label for="timeReserved">Time HW Reserved (hours):</label></td>
                <td class="row-input"><input type="number" id="timeReserved" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            The total hours for which hardware resources are allocated or reserved for running the software, regardless of actual usage.
                        </p>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol"><div class="multiplication-symbol">&#247</div></td>
                <td></td>
            </tr>
            <tr>
                <td><label for="hwLifespan">Expected HW Lifespan (years):</label></td>
                <td class="row-input"><input type="number" value="5" id="hwLifespan" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            The estimated number of years the hardware is expected to remain operational and effective before replacement. We assume that hardware is installed for about 5 years.
                        </p>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol"><div class="multiplication-symbol">×</div></td>
                <td></td>
            </tr>
            <tr>
                <td><label for="resourcesReserved">Amount of Resources Reserved:</label></td>
                <td class="row-input">  <input type="number" id="resourcesReserved" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            The quantity of hardware resources (such as CPU, memory, or storage) allocated for software use, regardless of actual consumption.
                        </p>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol"><div class="multiplication-symbol">&#247</div></td>
                <td></td>
            </tr>
            <tr>
                <td><label for="resourcesAvailable">Total Resources Available:</label></td>
                <td class="row-input"><input type="number" value="1" id="resourcesAvailable" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            The full capacity of hardware resources (e.g., CPU, memory, storage) accessible on the system for software operations, representing the maximum potential usage.
                        </p>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="3"><hr></td>
            </tr>
            <tr>
                <td></td>
                <td class="math-symbol">
                    <div class="output-box">
                        <span id="embodiedEmissions">0</span>
                        <label class="units">gCO2-eq</label>
                    </div>
                </td>
                <td></td>
            </tr>
        </table>
        
        <div id="embodiedPopup" class="popup">
            <span class="close-button">&times;</span>
            <p>Although the LCA values typically come from manufacturer's, there are several resources available to enable us to approximate these numbers.</p>
            <p><a href="https://medium.com/teads-engineering/building-an-aws-ec2-carbon-emissions-dataset-3f0fd76c98ac">Teads Engineering</a> uses these generally accepted arbitrary values for various components</p>
            <table id="teads">
                <thead>
                    <tr>
                        <th>Component</th>
                        <th>Emissions (kgCO2-eq)</th>
                    </tr>
                </thead>
                <tr>
                    <td>128 GB of DRAM</td>
                    <td>150</td>
                </tr>
                <tr>
                    <td>1 CPU</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>1 HDD</td>
                    <td>50</td>
                </tr>
                <tr>
                    <td>1 SSD</td>
                    <td>100</td>
                </tr>
                <tr>
                    <td>1 GPU</td>
                    <td>150</td>
                </tr>
            </table>
            <p>
                Or, there are LCA databases supplied by private organizations or put together by government agencies.
                In the US, one such <a href="https://www.lcacommons.gov/lca-collaboration/US_Environmental_Protection_Agency/USEEIO/dataset/PROCESS/bc6a467a-e428-31f8-b115-7ee487e6d0fa">database</a> for specific to computers has been put together by the Federal LCA Commons.
            </p>
        </div>
    </div>

    <!-- SCI Section -->
    <div class="section sci">
        <h2>Software Carbon Intensity (SCI)</h2>
        <h5>Operational Emissions + Embodied Emissions</h5>

        <table class="card-table">
            <tr>
                <td><label for="unitWork">Unit of Work (e.g., reqs/sec):</label></td>
                <td class="row-input"><input id="unitWork" class="input-box"></td>
                <td class="infoIcon">
                    <i class="info-icon fa-regular fa-circle-question fa-xl"></i>
                    <div class="infoModal hover-modal">
                        <p>
                            This value normalizes the carbon emissions to understand the efficiency and environmental impact of the software per unit of its functional output.
                        </p>
                    </div>
                </td>
            </tr>
        </table>

        <div class="sci-results">
            <span id="sciOutput" class="output-box">0</span>
            <label class="units">gCO2-eq</label>
            <span class="units" id="unitOfWork"></span>
        </div>
    </div>
</div>

<!-- Overlay Element -->
<div id="overlay" class="overlay"></div>